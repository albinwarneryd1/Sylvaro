@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root {
    color-scheme: light;
    --surface-app: #edf1f5;
    --surface-panel: #ffffff;
    --surface-panel-2: #f8fafc;
    --surface-elevated: #f4f7fb;

    --border-subtle: #d3dbe5;
    --border-strong: #b9c5d3;
    --border-focus: #2f66d0;

    --text-strong: #162132;
    --text-body: #2a3a50;
    --text-muted: #5d6b80;
    --text-inverse: #ebf2fa;

    --severity-critical: #7d1e2b;
    --severity-high: #a72b3c;
    --severity-medium: #976313;
    --severity-low: #3c577a;
    --severity-info: #516176;
    --severity-compliant: #1f6c50;

    --severity-critical-bg: #fde9ed;
    --severity-high-bg: #fef0f2;
    --severity-medium-bg: #fff7e8;
    --severity-low-bg: #edf4ff;
    --severity-info-bg: #eef2f7;
    --severity-compliant-bg: #eaf8f1;

    --radius-sm: 6px;
    --radius-md: 8px;
    --radius-lg: 10px;

    --space-1: 0.35rem;
    --space-2: 0.55rem;
    --space-3: 0.8rem;
    --space-4: 1rem;
    --space-5: 1.2rem;

    --shadow-soft: 0 1px 2px rgba(16, 24, 40, 0.08);
}

html,
body {
    margin: 0;
    padding: 0;
    background: var(--surface-app);
    color: var(--text-body);
    font-family: Inter, "Segoe UI", system-ui, -apple-system, sans-serif;
    font-size: 13px;
    line-height: 1.45;
}

* {
    box-sizing: border-box;
}

h1,
h2,
h3,
h4,
h5 {
    margin: 0 0 var(--space-2);
    font-weight: 600;
    color: var(--text-strong);
    letter-spacing: 0.01em;
}

h1 {
    font-size: 1.18rem;
}

h2 {
    font-size: 1rem;
}

h3,
h4 {
    font-size: 0.86rem;
}

p,
li,
label {
    color: var(--text-body);
}

p {
    margin: 0 0 var(--space-3);
}

a {
    color: #235abf;
}

.section-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-strong);
}

.subsection-title {
    font-size: 0.84rem;
    font-weight: 600;
    color: var(--text-strong);
    text-transform: uppercase;
    letter-spacing: 0.06em;
}

.metric-label {
    font-size: 0.72rem;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--text-muted);
    font-weight: 600;
}

.metric-value {
    font-size: 1.18rem;
    color: var(--text-strong);
    font-weight: 700;
    line-height: 1.2;
}

.context-text {
    color: var(--text-muted);
    font-size: 0.8rem;
}

.muted {
    color: var(--text-muted);
}

.card-shell,
.metric-card,
.kanban-col,
.zone-card,
.timeline-item {
    background: var(--surface-panel);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-soft);
}

.card-shell {
    padding: var(--space-4);
}

.card-shell.narrow {
    max-width: 520px;
}

.section-head {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--space-3);
    margin-bottom: var(--space-3);
}

.grid-cards {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: var(--space-3);
}

.metric-card {
    padding: var(--space-3);
}

.metric-card h3 {
    font-size: 0.72rem;
    text-transform: uppercase;
    letter-spacing: 0.07em;
    color: var(--text-muted);
    margin-bottom: var(--space-1);
}

.metric-card p {
    margin: 0;
    color: var(--text-strong);
    font-weight: 700;
    font-size: 1.16rem;
}

.metric-card.wide {
    grid-column: span 2;
}

.field,
.field-grid {
    display: grid;
    gap: var(--space-1);
    margin-bottom: var(--space-3);
}

.field-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
}

.text-input,
textarea.text-input,
select.text-input,
input.text-input {
    width: 100%;
    min-height: 34px;
    padding: 0.46rem 0.58rem;
    border: 1px solid var(--border-strong);
    border-radius: var(--radius-sm);
    background: #fff;
    color: var(--text-strong);
    font-size: 0.82rem;
}

.text-input:focus {
    border-color: var(--border-focus);
    outline: 1px solid color-mix(in srgb, var(--border-focus) 25%, white);
}

.btn-main,
.btn-small {
    border-radius: var(--radius-sm);
    border: 1px solid transparent;
    cursor: pointer;
    font-size: 0.77rem;
    font-weight: 600;
    transition: background-color 120ms ease, border-color 120ms ease, color 120ms ease;
}

.btn-main {
    padding: 0.46rem 0.76rem;
    background: #235abf;
    color: #fff;
}

.btn-main.secondary {
    background: #304663;
}

.btn-main:hover {
    background: #1d4c9f;
}

.btn-main:disabled,
.btn-small:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.btn-small {
    padding: 0.3rem 0.48rem;
    border-color: var(--border-strong);
    background: #fff;
    color: var(--text-body);
    text-decoration: none;
}

.btn-small:hover {
    background: var(--surface-panel-2);
    border-color: #98a7ba;
}

.btn-row {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    margin: var(--space-2) 0 var(--space-3);
}

.table-shell {
    width: 100%;
    border-collapse: collapse;
    margin-top: var(--space-2);
    background: var(--surface-panel);
}

.table-shell th,
.table-shell td {
    border-bottom: 1px solid var(--border-subtle);
    text-align: left;
    padding: 0.48rem 0.42rem;
    vertical-align: top;
    font-size: 0.78rem;
}

.table-shell th {
    font-size: 0.69rem;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--text-muted);
    background: var(--surface-elevated);
}

.timeline-list {
    display: grid;
    gap: var(--space-2);
}

.timeline-item {
    padding: var(--space-3);
    border-left: 3px solid #4268a3;
}

.timeline-item header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-1);
}

.timeline-item p {
    margin: 0 0 var(--space-1);
}

.kanban-board {
    display: grid;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: var(--space-2);
}

.kanban-col {
    padding: var(--space-2);
    background: var(--surface-panel-2);
}

.kanban-card {
    display: grid;
    gap: var(--space-1);
    padding: var(--space-2);
    margin-bottom: var(--space-2);
    border-radius: var(--radius-sm);
    border: 1px solid var(--border-subtle);
    border-left: 3px solid #48679b;
    background: #fff;
}

.kanban-card[data-priority="Critical"] {
    border-left-color: var(--severity-critical);
}

.kanban-card[data-priority="High"] {
    border-left-color: var(--severity-high);
}

.kanban-card[data-priority="Medium"] {
    border-left-color: var(--severity-medium);
}

.zone-grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: var(--space-2);
    margin: var(--space-2) 0 var(--space-3);
}

.zone-card {
    padding: var(--space-2);
    gap: var(--space-2);
    display: grid;
    background: var(--surface-panel-2);
}

.zone-card header {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
}

.component-node {
    display: grid;
    gap: 0.2rem;
    width: 100%;
    text-align: left;
    border: 1px solid var(--border-subtle);
    border-left: 3px solid #43689f;
    border-radius: var(--radius-sm);
    background: #fff;
    padding: 0.42rem 0.5rem;
    cursor: pointer;
    transition: border-color 120ms ease, background-color 120ms ease;
}

.component-node span {
    color: var(--text-muted);
    font-size: 0.73rem;
}

.component-node.low {
    border-left-color: var(--severity-compliant);
}

.component-node.medium {
    border-left-color: var(--severity-medium);
}

.component-node.high,
.component-node.critical {
    border-left-color: var(--severity-high);
}

.component-node.active {
    background: var(--surface-elevated);
    border-color: #8fa6c7;
}

.risk-row-high td {
    background: #fff6eb;
}

.risk-row-critical td {
    background: #fdeef1;
}

.risk-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.28rem;
    padding: 0.14rem 0.4rem;
    border-radius: 999px;
    border: 1px solid transparent;
    font-size: 0.68rem;
    font-weight: 700;
    letter-spacing: 0.01em;
}

.risk-pill.info {
    background: var(--severity-info-bg);
    color: var(--severity-info);
    border-color: #d7dee8;
}

.risk-pill.success {
    background: var(--severity-compliant-bg);
    color: var(--severity-compliant);
    border-color: #c9eadb;
}

.risk-pill.warning {
    background: var(--severity-medium-bg);
    color: var(--severity-medium);
    border-color: #f0ddb4;
}

.risk-pill.danger {
    background: var(--severity-high-bg);
    color: var(--severity-high);
    border-color: #efc8d0;
}

.avatar-chip {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 1.2rem;
    height: 1.2rem;
    border-radius: 999px;
    background: #dbe6f4;
    border: 1px solid #b6c8de;
    color: #1e3656;
    font-size: 0.62rem;
    margin-right: 0.3rem;
}

.panel-grid {
    display: grid;
    grid-template-columns: repeat(12, minmax(0, 1fr));
    gap: var(--space-3);
}

.panel-span-3 {
    grid-column: span 3;
}

.panel-span-4 {
    grid-column: span 4;
}

.panel-span-6 {
    grid-column: span 6;
}

.panel-span-8 {
    grid-column: span 8;
}

.panel-span-12 {
    grid-column: span 12;
}

.heatmap {
    display: grid;
    grid-template-columns: repeat(5, minmax(0, 1fr));
    gap: 0.32rem;
}

.heat-cell {
    border-radius: 4px;
    min-height: 24px;
    border: 1px solid var(--border-subtle);
}

.heat-cell.low {
    background: #e9f4ff;
}

.heat-cell.medium {
    background: #ffefcf;
}

.heat-cell.high {
    background: #fddce4;
}

.heat-cell.critical {
    background: #f8c5d1;
}

.trend-bars {
    display: grid;
    gap: 0.36rem;
}

.trend-bars div {
    display: grid;
    grid-template-columns: 70px 1fr 35px;
    gap: var(--space-2);
    align-items: center;
    font-size: 0.74rem;
}

.trend-bars span {
    background: #e7edf4;
    border-radius: 3px;
    height: 8px;
    position: relative;
    overflow: hidden;
}

.trend-bars i {
    display: block;
    height: 100%;
    background: linear-gradient(90deg, #2b5eb7, #3d77d7);
}

.status-line {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-1);
    margin-bottom: var(--space-2);
}

.alert-danger,
.alert-panel {
    background: #fef0f2;
    border: 1px solid #e5b9c2;
    border-left: 3px solid var(--severity-high);
    border-radius: var(--radius-sm);
    padding: 0.55rem 0.65rem;
    color: #7f2838;
    margin-bottom: var(--space-2);
}

.alert-panel details {
    margin-top: var(--space-2);
    font-size: 0.75rem;
}

.alert-panel pre {
    margin: var(--space-1) 0 0;
    white-space: pre-wrap;
    word-break: break-word;
    background: #fff;
    border: 1px solid #e9cfd5;
    border-radius: 4px;
    padding: var(--space-2);
    color: #6f2533;
}

.tab-row {
    display: flex;
    flex-wrap: wrap;
    gap: 0.3rem;
    margin-bottom: var(--space-3);
}

.tab-chip {
    border: 1px solid var(--border-strong);
    border-radius: 4px;
    background: #fff;
    color: var(--text-body);
    font-size: 0.73rem;
    padding: 0.28rem 0.48rem;
    transition: background-color 120ms ease, color 120ms ease;
}

.tab-chip.active {
    color: #fff;
    background: #2d5fbc;
    border-color: #2d5fbc;
}

.score-meter {
    margin-top: var(--space-2);
    height: 8px;
    border-radius: 999px;
    background: #e5ebf2;
    overflow: hidden;
}

.score-meter i {
    display: block;
    height: 100%;
    background: linear-gradient(90deg, #2b63c5 0%, #2f8b74 100%);
}

.donut-chart {
    --angle: 180deg;
    width: 132px;
    height: 132px;
    border-radius: 50%;
    background: conic-gradient(
        #7d1e2b 0 20%,
        #a72b3c 20% 42%,
        #976313 42% 68%,
        #3c577a 68% 84%,
        #1f6c50 84% 100%
    );
    position: relative;
    margin: 0 auto;
}

.donut-chart::after {
    content: "";
    position: absolute;
    inset: 20px;
    border-radius: 50%;
    background: var(--surface-panel);
    border: 1px solid var(--border-subtle);
}

.donut-center {
    position: absolute;
    inset: 0;
    display: grid;
    place-items: center;
    z-index: 1;
    font-size: 0.84rem;
    font-weight: 700;
    color: var(--text-strong);
}

.legend-grid {
    display: grid;
    gap: 0.28rem;
    margin-top: var(--space-2);
}

.legend-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 0.74rem;
}

.legend-item i {
    width: 10px;
    height: 10px;
    border-radius: 2px;
    display: inline-block;
    margin-right: 0.35rem;
}

.legend-item.critical i {
    background: #7d1e2b;
}

.legend-item.high i {
    background: #a72b3c;
}

.legend-item.medium i {
    background: #976313;
}

.legend-item.low i {
    background: #3c577a;
}

.legend-item.compliant i {
    background: #1f6c50;
}

.skeleton {
    min-height: 14px;
    border-radius: 4px;
    background: linear-gradient(90deg, #e9eef5 0%, #f4f7fb 40%, #e9eef5 100%);
    background-size: 200% 100%;
    animation: shimmer 1.3s linear infinite;
}

@keyframes shimmer {
    from {
        background-position: 200% 0;
    }

    to {
        background-position: -200% 0;
    }
}

#blazor-error-ui {
    display: none;
}

@media (max-width: 1200px) {
    .panel-span-3,
    .panel-span-4,
    .panel-span-6,
    .panel-span-8 {
        grid-column: span 12;
    }

    .field-grid,
    .grid-cards,
    .kanban-board,
    .zone-grid {
        grid-template-columns: 1fr;
    }

    .metric-card.wide {
        grid-column: span 1;
    }
}
